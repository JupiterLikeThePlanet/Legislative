<!DOCTYPE html>
<html>
  <head>
    <title>Legislative</title>
    <link rel="shortcut icon" href="../images/favicon.ico" />
    <link rel="stylesheet" href="/stylesheets/style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
    <script src="/javascripts/global.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/1.0.2/Chart.js"></script>
<!-- <script src="https://d3js.org/d3.v3.min.js"></script> -->
  </head>
  <body>
    <h1>Legislative</h1>
    <p>Stay up to date on current bills hitting the house and senate floors</p>
    <div id="wrapper">

      <canvas id="myChart" width="600" height="600"></canvas>
      <script>
        var ctx = document.getElementById("myChart").getContext("2d");

        $.ajax({
          type: 'GET',
          url: '/bills/bill_data'
        }).done(function(response){
          var bill_data = response;
          new Chart(ctx).PolarArea(bill_data, {animation:true, animationSteps: 250});
        });
      </script>

      <h2>BILL List</h2>
      <div id="billList">
        <table>
          <thead>
            <th>BillName</th>
            <th>Description</th>
            <th>Show</th>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </div>
    <div>
      <h1>Bill in this Congressional Session</h1>
    <canvas id="current_session" width="600" height="600"></canvas>

    <script>
      var congress = document.getElementById("current_session").getContext("2d");

      var sessionData = {
        labels: ["Agriculture", "Education", "Defense", "Water Mgmt", "NASA", "HUD", "Immigration"],
        datasets: [
          {
            label: "Active",
            fillColor: "rgba(220,220,220,0.5)",
            strokeColor: "rgba(220,220,220,0.8)",
            highlightFill: "rgba(220,220,220,0.75)",
            highlightStroke: "rgba(220,220,220,1)",
            data: [65, 59, 80, 81, 56, 55, 90]
          },
          {
            label: "Passed",
            fillColor: "rgba(151,187,205,0.5)",
            strokeColor: "rgba(151,187,205,0.8)",
            highlightFill: "rgba(151,187,205,0.75)",
            highlightStroke: "rgba(151,187,205,1)",
            data: [28, 48, 40, 19, 86, 27, 40]
          },
                    {
            label: "Dead",
            fillColor: "rgba(151,187,205,0.5)",
            strokeColor: "rgba(151,187,205,0.8)",
            highlightFill: "rgba(151,187,205,0.75)",
            highlightStroke: "rgba(151,187,205,1)",
            data: [28, 18, 10, 29, 46, 57, 50]
          }
        ]
      };
      new Chart(congress).Bar(sessionData, {scaleShowHorizontalLines: true});
      // var myBarChart = new Chart(congress).Bar(sessionData, scaleShowHorizontalLines: true);
    </script>
    </div>
  </body>
</html>
